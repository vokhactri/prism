"undefined"!=typeof Prism&&"undefined"!=typeof document&&document.createRange&&(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",function(e){var o,d,t;function s(e){var n;n=e,o&&"span"===n.nodeName.toLowerCase()&&n.classList.contains("token")?r(e):(n={clone:e.cloneNode(!1),posOpen:d},t.push(n),r(e),n.posClose=d)}function r(e){for(var n=0,o=e.childNodes.length;n<o;n++){var t=e.childNodes[n];1===t.nodeType?s(t):3===t.nodeType&&(d+=t.data.length)}}e.element.children.length&&Prism.util.isActive(e.element,"keep-markup",!0)&&(o=Prism.util.isActive(e.element,"drop-tokens",!1),d=0,t=[],r(e.element),t.length&&(e.keepMarkup=t))}),Prism.hooks.add("after-highlight",function(n){var s;n.keepMarkup&&n.keepMarkup.length&&(s=function(e,n){for(var o=0,t=e.childNodes.length;o<t;o++){var d=e.childNodes[o];if(1===d.nodeType){if(!s(d,n))return!1}else 3===d.nodeType&&(!n.nodeStart&&n.pos+d.data.length>n.node.posOpen&&(n.nodeStart=d,n.nodeStartPos=n.node.posOpen-n.pos),n.nodeStart&&n.pos+d.data.length>=n.node.posClose&&(n.nodeEnd=d,n.nodeEndPos=n.node.posClose-n.pos),n.pos+=d.data.length);if(n.nodeStart&&n.nodeEnd){d=document.createRange();return d.setStart(n.nodeStart,n.nodeStartPos),d.setEnd(n.nodeEnd,n.nodeEndPos),n.node.clone.appendChild(d.extractContents()),d.insertNode(n.node.clone),d.detach(),!1}}return!0},n.keepMarkup.forEach(function(e){s(n.element,{node:e,pos:0})}),n.highlightedCode=n.element.innerHTML)}));